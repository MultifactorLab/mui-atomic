<div #selectContainer class="search-select-container mui-flex mui-flex-column mui-pad-2 mui-gap-1">
  <div class="mui-flex mui-flex-column mui-gap-1" (click)="togglePanelVisibility()">
    <h2 class="title">{{ title() }}</h2>
    <div
      class="search-wrapper mui-flex mui-align-items-center mui-justify-content-between mui-gap-1 mui-pr-1"
      [class.disabled]="searching()"
    >
      <mui-search class="search" [placeholder]="placeholder" [disabled]="searching()" (onChange)="onSearchChange.emit($event)"></mui-search>

      @if (this.options().length > 0 && !searching()) {
        <mui-chevron-icon class="icon" [class.icon-rotated]="selectMenuVisible()" [iconSize]="'L'"></mui-chevron-icon>
      }

      @if (searching()) {
        <mui-loader [size]="'M'"></mui-loader>
      }
    </div>
  </div>

  @if (selectMenuVisible() && !searching()) {
    <div class="options-list-container" [class.rotated-panel-container]="showPanelOnTop">
      <div class="options-list mui-flex mui-flex-column">
        @for (item of options(); track item.id) {
          <mui-select-option [class.rotated]="showPanelOnTop" [multiselect]="true" [item]="item" (click)="selectItem(item)">
          </mui-select-option>
        }
      </div>
    </div>
  }
</div>
